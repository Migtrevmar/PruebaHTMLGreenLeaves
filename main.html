<!DOCTYPE html>
<html>
<head>
    

    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
    
    
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular-animate.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular-aria.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular-messages.min.js"></script>
    
    <style>
        
        
        
        .greenleaves{
            background-color: limegreen;
            border-radius: 30px;
            font-family: serif;
            color: white;
            margin: 5px;
            padding: 5px;
            padding-bottom: 26px;
            width: 400px;
            box-shadow: 2px 2px grey;
        }
        
        .buttonFormat{
            background-color: whitesmoke;
            border: 1px solid grey;
            color: aqua;
            padding: 2px 8px;
        }
        .col-25{
            float: left;
            width: 25%;
        }
        .col-15{
            float: left;
            width: 15%;
        }
        .col-50{
            width: 50%;
        }
        .col-60{
            float: left;
            width: 60%;
        }
        .col-70{
            float: left;
            width: 70%;  
        }
        
        .custombuttom1{
            color:aqua;
            
        }
        
        .floatright{
            float: right;
        }
        
        input.ng-invalid{
            
            background-color: lightcoral;
        }
        
    </style>
<title>Green Leaves</title>
</head>
<body>
    <div ng-app="AppMain" ng-controller="AppCtrl">
        <div class="greenleaves">
            <table>
                <tbody>
                    <tr>
                        <td>
                            <h1 class="">Green Leaves </h1>
                        </td>
                        <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
                        <td>
                            <img src="leaf.png" width="120px" height="100px" >
                        </td>
                    </tr>
                    
                </tbody>
            </table>
            
        </div>
            
        
        <form > <!-- ng-controller="validateData" -->
        <label class="col-15">Nombre:</label><input type="text" name="nombre" class="col-25" ng-model="nombre" id="name"  required/><span class="col-60"></span><br />
        <label class="col-15">E-mail:</label><input type="text" name="email" class="col-25"  ng-model="email" id="email" required/><span class="col-60"></span><br />
        <label class="col-15">Teléfono:</label><input type="text" name="telefono" class="col-25"  ng-model="telefono" id="telefono" required/><span class="col-60"></span><br />
        <label class="col-15">Fecha:</label><input type="date" name="fecha" class="col-15"  ng-model="fecha" id="fecha"  min="1919-01-20" max="2019-01-20" required pattern="" /><span class="col-70"></span><br />
        <label class="col-15">Ciudad y Estado:</label><input type="text" class="col-25" name="ciudad" id="CyE"   ng-model="CyE" required/><span class="col-60"></span><br />
            <br>
        <input type="submit" value="Enviar" class="buttonFormat" />
            
        <button onclick="validaciones()">Pruebas</button>
        </form>
        
        
        <div class="col-25"></div>
        <div class="col-50" ng-hide="mensajeDiv">
            <table>
                <tbody>
                    <tr>
                        <td>
                            <p>Estimado {{nombre}} </p>
                        </td>
                        <td>
                        </td>
                    </tr>
                    
                    <tr>
                        <td>
                            <p>Hemos recibido sus datos y nos pondremos en contacto con usted en la
                            brevedad posible. Enviaremos un correo con información a su cuenta:
                            {{ email }}.</p>
                        </td>
                        <td>
                        </td>
                    </tr>
                    
                    <tr>
                        <td>
                        </td>
                        <td>
                        <p class="floatright">Atte.</p>
                        </td>
                    </tr>
                    
                    <tr>
                        <td>
                        </td>
                        <td>
                        <p class="floatright">Green Leaves</p>
                        </td>
                    </tr>
                    
                    <tr>
                        <td>
                        </td>
                        <td>
                        <p class="floatright">{{ CyE }} a {{ fecha }}</p>
                        </td>
                    </tr>
                    
                </tbody>
            </table>
            
            
            
            

            
            
            
        </div>
        <div class="col-25"></div>
        
        <!--<calendar selected="day"></calendar> -->
        
     </div>
    
    
   
    
    <script>
        
        
        var app = angular.module('AppMain', []);
        
        app.controller('AppCtrl', function($scope) {
          $scope.mensajeDiv = true;
        });
        
        

        function validaciones(){
            
            var data = document.getElementById("name").value;
            //var data = $scope.nombre;
            
            var errorcount = 0;
            
            var filtroemail = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
            var filtrotelefono = /[^0-9#+]/g;
            
            var stringemail = document.getElementById("email").value;
            var resultemail = stringemail.match(filtroemail);
            
            var stringtel = document.getElementById("telefono").value;
            var resulttel = stringtel.match(filtrotelefono);
            
            //alert(data);
            
            if(document.getElementById("name").value == ""){
                console.log("Debe insertar un nombre");
                console.log(document.getElementById("name").value);
                //funcion de angular para cambiar su estado
                errorcount++;
            }
            
            if(document.getElementById("email").value == ""){
                console.log("Debe ingresar un email");
                console.log(document.getElementById("email").value);
                errorcount++;
                //
            }
            
            console.log("datos email");
            console.log(resultemail);
            if(resultemail == null){
                console.log("Debe ingresar un email valido");
                errorcount++;
            }
            
            

            
            
            if(document.getElementById("telefono").value == ""){
                //agregar validacion de numeros con regex
                console.log("Debe ingresar su numero telefonico");
                console.log(document.getElementById("telefono").value);
                errorcount++;
            }
            
            if(resulttel != null){
                
                console.log("El numero no es valido");
                console.log(document.getElementById("telefono").value);
                console.log(resulttel);
                errorcount++;
            }
            
            if(document.getElementById("fecha").value == ""){
                //agregar validacion de numeros con regex
                console.log("Debe ingresar una fecha");
                console.log(document.getElementById("fecha").value);
                errorcount++;
            }
            
            if(document.getElementById("CyE").value == ""){
                //agregar validacion de numeros con regex
                console.log("Debe ingresar una ciudad y estado");
                console.log(document.getElementById("CyE").value);
                errorcount++;
            }
            
            if(errorcount != 0){
                console.log("No se validaron todos los datos");
            } else {
                console.log("datos validado");
                
                app.controller('AppCtrl', function($scope) {
                  $scope.mensajeDiv = false;
                });
                //mensajeDiv
            }
                
        }
        
        
    </script>
</body>
</html>